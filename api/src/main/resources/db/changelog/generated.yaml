databaseChangeLog:
- changeSet:
    id: 1746178047507-1
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            name: email
            type: VARCHAR(255)
        - column:
            name: firstName
            type: VARCHAR(255)
        - column:
            name: lastName
            type: VARCHAR(255)
        - column:
            name: password
            type: VARCHAR(255)
        - column:
            defaultValue: 'null'
            name: role
            type: ENUM('ADMIN', 'EMPLOYEE')
        - column:
            defaultValue: 'null'
            name: status
            type: ENUM('ACTIVE', 'INACTIVE')
        - column:
            name: telegramId
            type: VARCHAR(255)
        - column:
            name: tenantId
            type: VARCHAR(255)
        - column:
            defaultValueComputed: 'NULL'
            name: company_id
            type: INT
        tableName: appuser
- changeSet:
    id: 1746178047507-2
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            name: address
            type: VARCHAR(255)
        - column:
            name: city
            type: VARCHAR(255)
        - column:
            defaultValueComputed: 'NULL'
            name: createdAt
            type: date
        - column:
            name: email
            type: VARCHAR(255)
        - column:
            constraints:
              nullable: false
            name: isNew
            type: BIT
        - column:
            name: logo
            type: VARCHAR(255)
        - column:
            name: name
            type: VARCHAR(255)
        - column:
            defaultValueComputed: 'NULL'
            name: numberOfUser
            type: INT
        - column:
            name: phone
            type: VARCHAR(255)
        - column:
            defaultValue: 'null'
            name: status
            type: ENUM('ACTIVE', 'INACTIVE')
        - column:
            defaultValue: 'null'
            name: subscription
            type: ENUM('BLOCKED', 'FIFTEEN_DAY_TRIAL', 'PRO_ANNUAL', 'STANDARD_ANNUAL')
        - column:
            name: taxNumber
            type: VARCHAR(255)
        - column:
            name: tenantId
            type: VARCHAR(255)
        - column:
            defaultValueComputed: 'NULL'
            name: updatedAt
            type: date
        - column:
            name: zipCode
            type: VARCHAR(255)
        tableName: company
- changeSet:
    id: 1746178047507-3
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            name: tenantId
            type: VARCHAR(255)
        - column:
            name: url
            type: VARCHAR(255)
        tableName: datasourceentity
- changeSet:
    id: 1746178047507-4
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            defaultValueComputed: 'NULL'
            name: expiresAt
            type: datetime(0)
        - column:
            defaultValueComputed: 'NULL'
            name: issuedAt
            type: datetime(0)
        - column:
            constraints:
              nullable: false
            name: revoked
            type: BIT
        - column:
            name: token
            type: VARCHAR(255)
        - column:
            defaultValueComputed: 'NULL'
            name: user_id
            type: INT
        tableName: refreshtoken
- changeSet:
    id: 1746178047507-5
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            defaultValueComputed: 'NULL'
            name: next_val
            type: BIGINT
        tableName: refreshtoken_seq
- changeSet:
    id: 1746178047507-6
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            defaultValueComputed: 'NULL'
            name: createdAt
            type: datetime(0)
        - column:
            defaultValueComputed: 'NULL'
            name: expiresAt
            type: datetime(0)
        - column:
            constraints:
              unique: true
            name: token
            type: VARCHAR(255)
        - column:
            defaultValueComputed: 'NULL'
            name: validatedAt
            type: datetime(0)
        - column:
            constraints:
              nullable: false
            name: userId
            type: INT
        tableName: token
- changeSet:
    id: 1746178047507-7
    author: MSI (generated)
    changes:
    - createTable:
        columns:
        - column:
            defaultValueComputed: 'NULL'
            name: next_val
            type: BIGINT
        tableName: token_seq
- changeSet:
    id: 1746178047507-8
    author: MSI (generated)
    changes:
    - createIndex:
        associatedWith: ''
        columns:
        - column:
            defaultValueComputed: 'NULL'
            name: company_id
        indexName: FK8kjf9fo6n63l9v3gewi2h5o0i
        tableName: appuser
- changeSet:
    id: 1746178047507-9
    author: MSI (generated)
    changes:
    - createIndex:
        associatedWith: ''
        columns:
        - column:
            defaultValueComputed: 'NULL'
            name: user_id
        indexName: FKh8a9r6kgrwik9i1e1drhwt334
        tableName: refreshtoken
- changeSet:
    id: 1746178047507-10
    author: MSI (generated)
    changes:
    - createIndex:
        associatedWith: ''
        columns:
        - column:
            name: userId
        indexName: FKrmm0smvic7y0kypv7sp9drl09
        tableName: token
- changeSet:
    id: 1746178047507-11
    author: MSI (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: company_id
        baseTableName: appuser
        constraintName: FK8kjf9fo6n63l9v3gewi2h5o0i
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: company
        validate: true
- changeSet:
    id: 1746178047507-12
    author: MSI (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: user_id
        baseTableName: refreshtoken
        constraintName: FKh8a9r6kgrwik9i1e1drhwt334
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: appuser
        validate: true
- changeSet:
    id: 1746178047507-13
    author: MSI (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: userId
        baseTableName: token
        constraintName: FKrmm0smvic7y0kypv7sp9drl09
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: appuser
        validate: true

